<!--
 * @Author: your name
 * @Date: 2020-11-21 16:16:03
 * @LastEditTime: 2021-01-29 21:48:07
 * @LastEditors: Please set LastEditors
 * @Description: 项目部署
 * @FilePath: \garbage-book\on_the_job\归类\服务器\项目部署.md
-->

# 项目部署

## 部署

[前端一键自动部署工具](https://juejin.im/post/6872914108979609614)
[GitHub Actions 入门教程](http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html)

## 环境配置

### 安装nginx

先按照前置内容
[nginx配置](https://www.cnblogs.com/ghzjm/p/10677599.html)
yum install -y pcre pcre-devel
yum install -y zlib zlib-devel
[查看nginx稳定版本](http://nginx.org/en/download.html)
yum install https://nginx.org/download/nginx-1.18.0.tar.gz
[yum安装Nginx和目录文件分析](https://www.cnblogs.com/wangkun122/articles/11504650.html)
/etc/nginx/ 配置文件目录
查看 conf.d配置文件获取root目录

cat /proc/version  // 查看linux系统内核版本   查到是redhat
cat /etc/redhat-release // 如果是redhat系统查看什么操作系统  centos

查看nginx是否运行
[Nginx的启动、停止与重启](https://www.cnblogs.com/codingcloud/p/5095066.html)
ps -ef|grep nginx  // 查看nginx运行的进程号
nginx -s reload
nginx -s stop
[开放指定端口](https://www.cnblogs.com/sxmny/p/11224842.html)
// 查看所有端口号
netstat -ntlp   //查看当前所有tcp端口   这里就可以查看到具体
配置完如果不行就去检查防火墙 nginx 是80端口
firewall-cmd --zone=public --add-port=80/tcp --permanent
netstat -ntulp |grep 80   //查看所有1935端口使用情况  只查询一个，这次没用
firewall-cmd --reload // 重启防火墙
<!-- 命令含义：
--zone #作用域
--add-port=1935/tcp  #添加端口，格式为：端口/通讯协议
--permanent  #永久生效，没有此参数重启后失效 -->

按照node ，之后通过 node -v 查看是否按照成功

curl --silent --location https://rpm.nodesource.com/setup_14.x | bash -   // v14.x
yum install -y nodejs
yum remove nodejs npm -y  卸载node

[CentOS安装NodeJS](https://www.cnblogs.com/zhi-leaf/p/10979629.html)
vi /etc/profile // 里面有个调错的字符  